<html>
  <head>
    <title>english to myanmar</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="rabbit.ico" type="image/x-icon" sizes="37x59" />
    <script src="rabbit.js"></script>
    <link rel="stylesheet" href="style.css" />
    <!-- <link
      rel="stylesheet"
      href="https://fonts.google.com/noto/specimen/Noto+Sans+Myanmar"
    />
    <link
      rel="stylesheet"
      href="http://mmwebfonts.comquas.com/fonts/?font=english"
    />  -->
    <script type="text/javascript">
      function clearText() {
        document.getElementById("myanmar").value = "";
        document.getElementById("english").value = "";
      }
    </script>
  </head>
  <body>
    <div id="container">
      <header>
        <img src="logo.png" alt="Rabbit" width="120 px" height="80px" />
        <h2>English to Myanmar</h2>
      </header>

      <div id="textContainer">
        <section id="english">
          <h3 class="styled-text">
            <span class="one">E</span>
            <span class="two">n</span>
            <span class="three">g</span>
            <span class="four">M</span>
            <span class="five">y</span>
            <span class="six">a</span>
          </h3>
          <textarea
            rows="26"
            id="english"
            onfocus="handleOnFocus(this)"
            onblur="handleOnBlur()"
          ></textarea>
        </section>

        <section id="myanmar">
          <h3 class="styled-text">
            <span class="one">M</span>
            <span class="two">y</span>
            <span class="three">a</span>
            <span class="four">n</span>
            <span class="five">m</span>
            <span class="six">a</span>
            <span class="seven">r</span>
          </h3>
          <textarea
            rows="26"
            id="myanmar"
            onfocus="handleOnFocus(this)"
            onblur="handleOnBlur()"
          ></textarea>
        </section>
      </div>
      <div id="textContainer">
        <section id="buttons">
          <input
            class="english-button-style"
            type="button"
            value="Copy EngMyan"
            onclick="copyenglish()"
          />
          <input
            class="clear-button-style clear"
            type="button"
            value="Clear Text"
            onclick="clearText()"
          />
          <input
            class="myanmar-button-style"
            type="button"
            value="Copy Myanmar"
            onclick="copymyanmar()"
          />
        </section>
      </div>
      <footer>
        <p>
          &copy; 2023
          <a href="https://github.com/Rabbit-Converter/Rabbit" target="_blank"
            >Rabbit</a
          >
          |
          <a href="https://github.com/toejs/z2u" target="_blank"
            >english to myanmar Converter</a
          >
        </p>
      </footer>
    </div>

    <script>
      var textFieldInFocus;
      function handleOnFocus(form_element) {
        textFieldInFocus = form_element;
      }
      function handleOnBlur() {
        textFieldInFocus = null;
      }

      var english = document.getElementById("english");
      var myanmar = document.getElementById("myanmar");

      console.log("cc ", myanmar.value, english);

      onchangeHandler(myanmar, english, "uni2zg");
      onchangeHandler(english, myanmar, "zg2uni");

      function onchangeHandler(textField, tochangeField, toconv) {
        if (textField.addEventListener) {
          textField.addEventListener(
            "input",
            function () {
              converter(textField, tochangeField, toconv);
            },
            false
          );
        } else if (textField.attachEvent) {
          textField.attachEvent("onpropertychange", function () {
            // IE
            converter(textField, tochangeField, toconv);
          });
        }
      }

      function converter(textField, tochangeField, toconv) {
        console.log("aa ", textField.value, tochangeField.value, toconv);
        // if (tochangeField != textFieldInFocus) {
        //   if (toconv == "uni2zg") {
        //     tochangeField.value = Rabbit.uni2zg(textField.value);
        //   } else {
        //     tochangeField.value = Rabbit.zg2uni(textField.value);
        //   }
        // }
      }

      function copyenglish() {
        /* Get the text field */
        var copyText = document.getElementById("english");

        /* Select the text field */
        copyText.select();
        copyText.setSelectionRange(0, 99999); /*For mobile devices*/

        /* Copy the text inside the text field */
        document.execCommand("copy");
      }

      function copymyanmar() {
        /* Get the text field */
        var copyText = document.getElementById("myanmar");

        /* Select the text field */
        copyText.select();
        copyText.setSelectionRange(0, 99999); /*For mobile devices*/

        /* Copy the text inside the text field */
        document.execCommand("copy");
      }
    </script>
  </body>
</html>
